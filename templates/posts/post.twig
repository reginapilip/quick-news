{% extends "base.twig" %}
{% import "partial/macros.twig" as functions %}

{% block subheader %}
    {% if post.breaking %}
        {{ functions.postHeader(theme.link ~ "/images/breaking_news.jpg", "Breaking News") }}
    {% endif %}
{% endblock %}

{% block content %}
<div class="row">
    <div class="col">
        <h2 class="fw-bold">{{post.title}}</h2>
        <span class="badge bg-success">By {{post.author}}</span>
        <!-- {{ avgReadingTime }}
        |split |length |round
        count number of words -->
        <!-- get number of words in article and set it to a variable -->
        {% set articleWords = post.content|split(' ') %}
        <!-- identify length of array var -->
        {% set articleLength = articleWords|length %}
        <!-- divide by avgReadingTime -->
        {% set articleReadTime = articleLength / avgReadingTime %}
        <!-- round final answer and output -->
        <span class="badge bg-dark">Reading Time: {{ articleReadTime|round(0, 'ceil') }} minute{{ articleReadTime > 1 ? 's'}}</span>
        <!-- test -->
    </div>
</div>

<div class="row mt-3">
        <img class="mt-2 ml-4 mb-3shadow" src="{{theme.link}}/images/news/{{post.slug}}.jpg" alt="Featured image" width="400">
        <div class="text-justify mt-3">
            {{post.content}}
        </div>
</div>
<div class="row">
    <div class="col-4 border my-2 p-4 bg-light">
        <h2 class="border-bottom border-success py-2">{{post.author}}</h2>
        <p>{{post.author.description}}</p>
    </div>
</div>

{% endblock %}